{% extends 'base.html.twig' %}

{% block title %}{{ company.name }}{% endblock %}

{% block body %}
    <p><a href="{{ path('company_list') }}">‚Üê Retour √† la liste</a></p>
    <h1>D√©tails de {{ company.name }}</h1>

    <h2>üìÑ Profil</h2>
    {% if profile %}
        <ul>
            <li>Nom : {{ profile.name }}</li>
            <li>SIREN : {{ profile.registration_number }}</li>
            <li>Forme juridique : {{ profile.legal.form is defined ? profile.legal.form : 'N/A' }}</li>
            <li>Activit√© : {{ profile.activity.ape_name is defined ? profile.activity.ape_name : 'N/A' }}</li>
            <li>Capital : {{ profile.capital.amount.value is defined ? profile.capital.amount.value : 'N/A' }} ‚Ç¨</li>
        </ul>
    {% else %}
        <p>Profil non disponible pour cette entreprise.</p>
    {% endif %}

    <h2>üëî Dirigeants</h2>
    {% for officer in officers %}
        <div>
            <strong>{{ officer.full_name ?? 'Inconnu' }}</strong>
        </div>
    {% else %}
        <p>Aucun dirigeant trouv√©.</p>
    {% endfor %}

    <h2>üíº Bilans Financiers</h2>
    {% for bilan in financials %}
        {% if bilan is iterable %}
            <div>
                <strong>{{ bilan.year ?? '??' }}</strong> ‚Äî CA: {{ bilan.turnover.value ?? 'N/A' }} {{ bilan.turnover.currency ?? '' }}
            </div>
        {% endif %}
    {% else %}
        <p>Pas de bilans trouv√©s.</p>
    {% endfor %}
{% endblock %}
